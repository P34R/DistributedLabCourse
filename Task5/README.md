# "Baby" Blockchain Project 
Topic - digital assets and currencies (may be enhanced with various voting features in the future).  

## Overview and purpose of the system
The goal of the project is to study in detail how the blockchain works and create a simplified version of the blockchain system for the relevant topic (coins).  
The project does not aim to create a frontend.  
The user can create key pairs, create and sign transactions, etc. For more details read [Product features](https://github.com/P34R/DistributedLabCourse/tree/master/Task5#product-features).

## System content (system boundaries)
The system allows users to transfer a certain resource (coins) among themselves using transactions.  
There are no roles in this project, each user has an account with the same rights for everyone.  
The creation of blocks is centralized (System may be supplemented with CLI features, which will allow users to pseudo "mine" blocks and receive coins).  
Users create operations, sign them, and add them to transactions.  
A block consists of many transactions, they will be verified and then added to the chain.  


## Potential interaction of the product (with other products and components)
The project is conceived as independent, without interaction with others. 
Potentially, such interaction may appear (for example, by redirecting IO ) in the future, but at the moment this is not planned.

## Product features
The system consists of 7 classes: Hash, Signature, KeyPair, Account, Operation, Transaction, Block and Blockchain (at the planning stage, may be changed in future).  
**KeyPair** - according to the name, this is a key pair (public and private keys) class. Generated by the ECDSA algorithm.  
**Signature** - Signs a message (operations) with a digital signature using ECDSA algorithm.  
**Account** - Allows user to create Key Pairs, sign messages (operations) and work with his wallet (create operations, which transfer their coins).  
**Operation** - Simple "transfer" operation, statement about transferring coins from account1 to account2. Has input address (sender account), output address (receiver account), amount of coins and signature. Also has time stamp to prevent multiple usage of single operation.  
**Transaction** - Contains a set of operations (statements about transferring coins) and "nonce" integer number (to prevent multiple usage of same transaction). Will be added to the block later and after confirmation will be applied.    
**Block** - Contains a set of transactions, hash of previous block and hash of current block (block id). Blocks will be connected and will make a "chain".  
**Blockchain** - Simply, connected blocks. Contains only a genesis (first) block at the beginning. Allows transferring coins from the faucet (the maximum number of coins allowed in the system) to users. Inside the blockchain there is a history of all blocks and balances of all accounts (not zero accounts).  

## Security Requirements
Project utilizes ECDSA signature algorithm on secp256r1 curve.  
Project uses SHA256 hash-function.  
There was a vulnerability with the "Operation" class. Possibly validator was able to use same operation until there is no coins left on sender account. This was solved by adding a time stamp field (current sender time), so there won't be two identical operations in the blockchain history.  
A large number of verifications are done during block validation (double-spending, transaction correctness, etc). Any vulnerabilities found in these checks may negatively affect the system, but probably can be fixed.  
Also (right now) there is no verification for the uniqueness of the operation. It is assumed, that there won't be two operations with same data and same timestamp.  

## Characteristics of users
An end user is any person who wants to receive and transfer coins (within this system) with other users.  
In the future, the user may be able to choose his role (miner, validator, etc.). This isn't planned now.  
User is allowed to create any number of key pairs, operations, etc. But user can't spend coins, but user can't spend coins that he does not have.  

## Restrictions
This system does not have a consensus as such and is not decentralized.  
The number of coins a user can have is limited by the maximum value of uint64 and cannot be negative.  
The maximum number of transactions in a block is not set (at the planning stage), but may be changed in the future (and probably will be).  
System has no user validation (Possibly, one user may have more than 1 account), but supposed that user will create only 1 account (that's needed for future 'voting' features).  
It is assumed that "validator" won't be using same operation more than 1 time (because it has unique timestamp). Such verification may be added in the future.  

